services:
    console.exception_subscriber:
        class: an602\console\exception_subscriber
        arguments:
            - '@language'
        tags:
            - { name: kernel.event_subscriber }

    console.command_collection:
        class: an602\di\service_collection
        arguments:
            - '@service_container'
        tags:
            - { name: service_collection, tag: console.command }

    console.command.cache.purge:
        class: an602\console\command\cache\purge
        arguments:
            - '@user'
            - '@cache.driver'
            - '@dbal.conn'
            - '@auth'
            - '@log'
            - '@config'
        tags:
            - { name: console.command }

    console.command.config.delete:
        class: an602\console\command\config\delete
        arguments:
            - '@user'
            - '@config'
        tags:
            - { name: console.command }

    console.command.config.increment:
        class: an602\console\command\config\increment
        arguments:
            - '@user'
            - '@config'
        tags:
            - { name: console.command }

    console.command.config.get:
        class: an602\console\command\config\get
        arguments:
            - '@user'
            - '@config'
        tags:
            - { name: console.command }

    console.command.config.set:
        class: an602\console\command\config\set
        arguments:
            - '@user'
            - '@config'
        tags:
            - { name: console.command }

    console.command.config.set_atomic:
        class: an602\console\command\config\set_atomic
        arguments:
            - '@user'
            - '@config'
        tags:
            - { name: console.command }

    console.command.cron.list:
        class: an602\console\command\cron\cron_list
        arguments:
            - '@user'
            - '@cron.manager'
        tags:
            - { name: console.command }

    console.command.cron.run:
        class: an602\console\command\cron\run
        arguments:
            - '@user'
            - '@cron.manager'
            - '@cron.lock_db'
        tags:
            - { name: console.command }

    console.command.db.list:
        class: an602\console\command\db\list_command
        arguments:
            - '@user'
            - '@migrator'
            - '@ext.manager'
            - '@config'
            - '@cache'
        tags:
            - { name: console.command }

    console.command.db.migrate:
        class: an602\console\command\db\migrate
        arguments:
            - '@user'
            - '@language'
            - '@migrator'
            - '@ext.manager'
            - '@config'
            - '@cache'
            - '@log'
            - '@filesystem'
            - '%core.root_path%'
        tags:
            - { name: console.command }

    console.command.db.revert:
        class: an602\console\command\db\revert
        parent: console.command.db.migrate
        tags:
            - { name: console.command }

    console.command.dev.migration_tips:
        class: an602\console\command\dev\migration_tips
        arguments:
            - '@user'
            - '@ext.manager'
        tags:
            - { name: console.command }

    console.command.extension.disable:
        class: an602\console\command\extension\disable
        arguments:
            - '@user'
            - '@ext.manager'
            - '@log'
            - '%cache.driver.class%'
        tags:
            - { name: console.command }

    console.command.extension.enable:
        class: an602\console\command\extension\enable
        arguments:
            - '@user'
            - '@ext.manager'
            - '@log'
            - '%cache.driver.class%'
        tags:
            - { name: console.command }

    console.command.extension.purge:
        class: an602\console\command\extension\purge
        arguments:
            - '@user'
            - '@ext.manager'
            - '@log'
            - '%cache.driver.class%'
        tags:
            - { name: console.command }

    console.command.extension.show:
        class: an602\console\command\extension\show
        arguments:
            - '@user'
            - '@ext.manager'
            - '@log'
            - '%cache.driver.class%'
        tags:
            - { name: console.command }

    console.command.fixup.update_hashes:
        class: an602\console\command\fixup\update_hashes
        arguments:
            - '@config'
            - '@user'
            - '@dbal.conn'
            - '@passwords.manager'
            - '@passwords.driver_collection'
            - '%passwords.algorithms%'
        tags:
            - { name: console.command }

    console.command.fixup.fix_left_right_ids:
        class: an602\console\command\fixup\fix_left_right_ids
        arguments:
            - '@user'
            - '@dbal.conn'
            - '@cache.driver'
        tags:
            - { name: console.command }

    console.command.reparser.list:
        class: an602\console\command\reparser\list_all
        arguments:
            - '@user'
            - '@text_reparser_collection'
        tags:
            - { name: console.command }

    console.command.reparser.reparse:
        class: an602\console\command\reparser\reparse
        arguments:
            - '@user'
            - '@text_reparser.lock'
            - '@text_reparser.manager'
            - '@text_reparser_collection'
        tags:
            - { name: console.command }

    console.command.thumbnail.delete:
        class: an602\console\command\thumbnail\delete
        arguments:
            - '@config'
            - '@user'
            - '@dbal.conn'
            - '%core.root_path%'
        tags:
            - { name: console.command }

    console.command.thumbnail.generate:
        class: an602\console\command\thumbnail\generate
        arguments:
            - '@config'
            - '@user'
            - '@dbal.conn'
            - '@cache'
            - '%core.root_path%'
            - '%core.php_ext%'
        tags:
            - { name: console.command }

    console.command.thumbnail.recreate:
        class: an602\console\command\thumbnail\recreate
        arguments:
            - '@user'
        tags:
            - { name: console.command }

    console.command.update.check:
        class: an602\console\command\update\check
        arguments:
            - '@user'
            - '@config'
            - '@service_container'
            - '@language'
        tags:
            - { name: console.command }

    console.command.user.activate:
        class: an602\console\command\user\activate
        arguments:
            - '@user'
            - '@dbal.conn'
            - '@config'
            - '@language'
            - '@log'
            - '@notification_manager'
            - '@user_loader'
            - '%core.root_path%'
            - '%core.php_ext%'
        tags:
            - { name: console.command }

    console.command.user.add:
        class: an602\console\command\user\add
        arguments:
            - '@user'
            - '@dbal.conn'
            - '@config'
            - '@language'
            - '@passwords.manager'
            - '%core.root_path%'
            - '%core.php_ext%'
        tags:
            - { name: console.command }

    console.command.user.delete:
        class: an602\console\command\user\delete
        arguments:
            - '@user'
            - '@dbal.conn'
            - '@language'
            - '@log'
            - '@user_loader'
            - '%core.root_path%'
            - '%core.php_ext%'
        tags:
            - { name: console.command }

    console.command.user.reclean:
        class: an602\console\command\user\reclean
        arguments:
            - '@user'
            - '@dbal.conn'
            - '@language'
        tags:
            - { name: console.command }
