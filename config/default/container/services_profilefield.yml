services:
    profilefields.manager:
        class: an602\profilefields\manager
        arguments:
            - '@auth'
            - '@config_text'
            - '@dbal.conn'
            - '@dbal.tools'
            - '@dispatcher'
            - '@language'
            - '@log'
            - '@request'
            - '@template'
            - '@profilefields.type_collection'
            - '@user'
            - '%tables.profile_fields%'
            - '%tables.profile_fields_data%'
            - '%tables.profile_fields_options_language%'
            - '%tables.profile_fields_language%'

    profilefields.lang_helper:
        class: an602\profilefields\lang_helper
        arguments:
            - '@dbal.conn'
            - '%tables.profile_fields_options_language%'

# ----- Profile fields types -----
    profilefields.type_collection:
        class: an602\di\service_collection
        arguments:
            - '@service_container'
        tags:
            - { name: service_collection, tag: profilefield.type }

    profilefields.type.bool:
        class: an602\profilefields\type\type_bool
        arguments:
            - '@profilefields.lang_helper'
            - '@request'
            - '@template'
            - '@user'
        tags:
            - { name: profilefield.type }

    profilefields.type.date:
        class: an602\profilefields\type\type_date
        arguments:
            - '@request'
            - '@template'
            - '@user'
        tags:
            - { name: profilefield.type }

    profilefields.type.dropdown:
        class: an602\profilefields\type\type_dropdown
        arguments:
            - '@profilefields.lang_helper'
            - '@request'
            - '@template'
            - '@user'
        tags:
            - { name: profilefield.type }

    profilefields.type.int:
        class: an602\profilefields\type\type_int
        arguments:
            - '@request'
            - '@template'
            - '@user'
        tags:
            - { name: profilefield.type }

    profilefields.type.string:
        class: an602\profilefields\type\type_string
        arguments:
            - '@request'
            - '@template'
            - '@user'
        tags:
            - { name: profilefield.type }

    profilefields.type.text:
        class: an602\profilefields\type\type_text
        arguments:
            - '@request'
            - '@template'
            - '@user'
        tags:
            - { name: profilefield.type }

    profilefields.type.url:
        class: an602\profilefields\type\type_url
        arguments:
            - '@request'
            - '@template'
            - '@user'
        tags:
            - { name: profilefield.type }
